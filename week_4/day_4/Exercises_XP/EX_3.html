<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exercice 3 : JSON Mario</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            background-color: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #28a745;
            text-align: center;
        }
        .code-section {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin: 30px 0;
        }
        .code-box {
            flex: 1;
            min-width: 300px;
        }
        pre {
            background-color: #f8f9fa;
            padding: 20px;
            border-radius: 5px;
            overflow-x: auto;
            border: 1px solid #e9ecef;
            height: 400px;
        }
        .debug-section {
            background-color: #fff3cd;
            padding: 20px;
            border-radius: 5px;
            margin: 20px 0;
            border: 1px solid #ffeaa7;
        }
        button {
            padding: 12px 20px;
            background-color: #28a745;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            margin: 10px 5px;
        }
        button:hover {
            background-color: #218838;
        }
        .explanation {
            background-color: #e8f4fd;
            padding: 20px;
            border-radius: 5px;
            margin-top: 20px;
        }
        h3 {
            color: #28a745;
            margin-top: 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Exercice 3 : Manipulation JSON Mario</h1>
        
        <div class="code-section">
            <div class="code-box">
                <h3>Objet JavaScript Original</h3>
                <pre id="originalObject"></pre>
            </div>
            
            <div class="code-box">
                <h3>JSON Converti (Pretty Print)</h3>
                <pre id="jsonOutput"></pre>
            </div>
        </div>
        
        <div style="text-align: center;">
            <button onclick="convertToJSON()">Convertir en JSON</button>
            <button onclick="prettyPrintJSON()">Pretty Print JSON</button>
            <button onclick="triggerDebugger()">Ouvrir le Debugger</button>
        </div>
        
        <div class="debug-section">
            <h3>üîß Instructions pour le Debugger</h3>
            <ol>
                <li>Cliquez sur "Ouvrir le Debugger"</li>
                <li>Ouvrez les Outils de D√©veloppement (F12)</li>
                <li>Allez dans l'onglet "Sources" (Sources)</li>
                <li>Le code s'arr√™tera au point d'arr√™t <code>debugger;</code></li>
                <li>Dans la console, tapez <code>jsonMario</code> pour inspecter l'objet</li>
                <li>Vous pouvez aussi inspecter <code>marioGame</code> (objet original)</li>
            </ol>
        </div>
        
        <div class="explanation">
            <h3>Explication : Conversion JSON</h3>
            <p><strong>Que deviennent les objets imbriqu√©s ?</strong></p>
            <p>Lors de la conversion en JSON :</p>
            <ul>
                <li>Les objets imbriqu√©s sont correctement s√©rialis√©s</li>
                <li>La hi√©rarchie des objets est pr√©serv√©e</li>
                <li>Le JSON r√©sultant a la m√™me structure que l'objet JavaScript</li>
                <li>Les m√©thodes et fonctions sont perdues (JSON ne stocke que les donn√©es)</li>
            </ul>
            
            <p><strong>Diff√©rence entre JSON.stringify() et Pretty Print :</strong></p>
            <ul>
                <li><code>JSON.stringify(obj)</code> : produit une cha√Æne JSON compacte</li>
                <li><code>JSON.stringify(obj, null, 2)</code> : produit un JSON indent√© (pretty print)</li>
                <li>Le troisi√®me param√®tre (2) sp√©cifie le nombre d'espaces d'indentation</li>
            </ul>
        </div>
    </div>

    <script>
        // Objet JavaScript original
        const marioGame = {
            detail: "An amazing game!",
            characters: {
                mario: {
                    description: "Small and jumpy. Likes princesses.",
                    height: 10,
                    weight: 3,
                    speed: 12,
                },
                bowser: {
                    description: "Big and green, Hates princesses.",
                    height: 16,
                    weight: 6,
                    speed: 4,
                },
                princessPeach: {
                    description: "Beautiful princess.",
                    height: 12,
                    weight: 2,
                    speed: 2,
                }
            },
        };

        // Afficher l'objet original au chargement
        document.getElementById('originalObject').textContent = 
            JSON.stringify(marioGame, null, 2);

        function convertToJSON() {
            // Conversion simple en JSON
            const jsonString = JSON.stringify(marioGame);
            document.getElementById('jsonOutput').textContent = jsonString;
        }

        function prettyPrintJSON() {
            // Conversion avec pretty print
            const prettyJSON = JSON.stringify(marioGame, null, 2);
            document.getElementById('jsonOutput').textContent = prettyJSON;
        }

        function triggerDebugger() {
            // Convertir en JSON pour le debugger
            const jsonMario = JSON.stringify(marioGame, null, 2);
            
            // Point d'arr√™t pour le debugger
            debugger;
            
            console.log("=== OBJET JavaScript ORIGINAL ===");
            console.log(marioGame);
            console.log("=== JSON CONVERTI ===");
            console.log(jsonMario);
            console.log("=== TYPE DE DONN√âES ===");
            console.log("marioGame type:", typeof marioGame);
            console.log("jsonMario type:", typeof jsonMario);
            
            alert("Ouvrez les Outils de D√©veloppement (F12) et allez dans l'onglet Console !");
        }

        // Initialisation
        prettyPrintJSON();
    </script>
</body>
</html>